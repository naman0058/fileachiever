<!-- Tailwind CDN with brand colors -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    theme: {
      extend: {
        colors: {
          brandOrange: '#F17F23',
          brandBlue: '#2A47FF'
        }
      }
    }
  }
</script>

<!-- Brand Ambassador Form -->
<div class="max-w-4xl mx-auto px-4 py-8">
  <div class="bg-white shadow-xl rounded-2xl overflow-hidden">
    
    <!-- Header -->
    <div class="bg-brandOrange text-white text-center py-4">
      <h2 class="text-2xl font-semibold">ðŸŽ“ Add Brand Ambassador</h2>
    </div>

    <!-- Form -->
    <form action="/add-ambassador" method="POST" class="p-6 space-y-6 bg-gray-50">
      
      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <label for="name" class="block mb-1 font-medium text-gray-700">Full Name</label>
          <input type="text" name="name" id="name" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brandOrange" placeholder="John Doe" required>
        </div>

        <div>
          <label for="number" class="block mb-1 font-medium text-gray-700">Phone Number</label>
          <input type="text" name="number" id="number" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brandOrange" placeholder="9876543210" required>
        </div>

        <div class="md:col-span-2">
          <label for="address" class="block mb-1 font-medium text-gray-700">College Name</label>
          <textarea name="address" id="address" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brandOrange" rows="2" placeholder="ABC Institute of Technology" required></textarea>
        </div>

        <div>
          <label for="email" class="block mb-1 font-medium text-gray-700">Email</label>
          <input type="email" name="email" id="email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brandOrange" placeholder="you@example.com" required>
        </div>

        <div>
          <label for="instagram_id" class="block mb-1 font-medium text-gray-700">Instagram ID</label>
          <input type="text" name="instagram_id" id="instagram_id" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brandOrange" placeholder="@your_handle" required>
        </div>

        <div>
          <label for="unique_code" class="block mb-1 font-medium text-gray-700">Unique Code</label>
          <input type="text" name="unique_code" id="unique_code" class="w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100" placeholder="Auto-generated" readonly required>
        </div>


          <div>
          <label for="referal_code" class="block mb-1 font-medium text-gray-700">Referral Code (Optional)</label>
          <input type="text" name="referal_code" id="referal_code" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brandOrange">
        </div>

      </div>

      <% if (msg) { %>
        <p class="text-green-600 text-sm mt-2"><%= msg %></p>
      <% } %>

      <div class="text-right pt-4">
        <button type="submit" class="bg-brandBlue hover:bg-blue-700 text-white px-6 py-2 text-lg font-semibold rounded-lg transition duration-200">Submit Ambassador ðŸŽ‰</button>
      </div>
    </form>
  </div>
</div>

<!-- Auto-generate referral code script -->
<script>
  function generateUniqueCode(name, address) {
    const clean = str => str.trim().replace(/\s+/g, '').toUpperCase();
    const part1 = clean(name).substring(0, 3);
    const part2 = clean(address).substring(0, 3);
    const randomNum = Math.floor(100 + Math.random() * 900); // 100â€“999
    return `${part1}${part2}${randomNum}`;
  }

  document.addEventListener("DOMContentLoaded", () => {
    const nameInput = document.getElementById("name");
    const addressInput = document.getElementById("address");
    const codeInput = document.getElementById("unique_code");

    const updateCode = () => {
      const name = nameInput.value;
      const address = addressInput.value;
      if (name.length >= 3 && address.length >= 3) {
        codeInput.value = generateUniqueCode(name, address);
      } else {
        codeInput.value = "";
      }
    };

    nameInput.addEventListener("input", updateCode);
    addressInput.addEventListener("input", updateCode);
  });
</script>
